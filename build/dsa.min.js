/*!
 * 
 *   dsa-sdk v1.3.9
 *   https://github.com/instadapp/dsa-sdk
 * 
 *   Copyright (c) INSTADAPP LABS LLC 
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DSA=t():e.DSA=t()}(this,(function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_msgSender","type":"address"},{"indexed":true,"internalType":"address","name":"_authority","type":"address"}],"name":"LogAddAuth","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_msgSender","type":"address"},{"indexed":true,"internalType":"address","name":"_authority","type":"address"}],"name":"LogRemoveAuth","type":"event"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"name":"add","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"name":"remove","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('{"eth":{"type":"token","symbol":"ETH","name":"Ethereum","address":"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee","decimals":18},"dai":{"type":"token","symbol":"DAI","name":"DAI Stable","address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","decimals":18},"usdc":{"type":"token","symbol":"USDC","name":"USD Coin","address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48","decimals":6},"usdt":{"type":"token","symbol":"USDT","name":"Tether USD Coin","address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","decimals":6},"mkr":{"type":"token","symbol":"MKR","name":"MakerDAO","address":"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2","decimals":18},"zrx":{"type":"token","symbol":"ZRX","name":"0x Protocol","address":"0xe41d2489571d322189246dafa5ebde1f4699f498","decimals":18},"rep":{"type":"token","symbol":"REP","name":"Augur","address":"0x1985365e9f78359a9b6ad760e32412f4a445e862","decimals":18},"tusd":{"type":"token","symbol":"TUSD","name":"TrueUSD","address":"0x8dd5fbCe2F6a956C3022bA3663759011Dd51e73E","decimals":18},"bat":{"type":"token","symbol":"BAT","name":"Basic Attention","address":"0x0d8775f648430679a709e98d2b0cb6250d2887ef","decimals":18},"knc":{"type":"token","symbol":"KNC","name":"Kyber Network","address":"0xdd974d5c2e2928dea5f71b9825b8b646686bd200","decimals":18},"wbtc":{"type":"token","symbol":"WBTC","name":"Wrapped BTC","address":"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599","decimals":8},"susd":{"type":"token","symbol":"SUSD","name":"Synthetix USD","address":"0x57ab1ec28d129707052df4df418d58a2d46d5f51","decimals":18},"ceth":{"type":"ctoken","symbol":"CETH","name":"Compound ETH","address":"0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5","decimals":8,"factor":0.75,"root":"eth"},"cdai":{"type":"ctoken","symbol":"CDAI","name":"Compound DAI","address":"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643","decimals":8,"factor":0.75,"root":"dai"},"cusdc":{"type":"ctoken","symbol":"CUSDC","name":"Compound USDC","address":"0x39aa39c021dfbae8fac545936693ac917d5e7563","decimals":8,"factor":0.75,"root":"usdc"},"cusdt":{"type":"ctoken","symbol":"CUSDT","name":"Compound USDT","address":"0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9","decimals":8,"factor":0,"root":"usdt"},"czrx":{"type":"ctoken","symbol":"CZRX","name":"Compound ZRX","address":"0xb3319f5d18bc0d84dd1b4825dcde5d5f7266d407","decimals":8,"factor":0.6,"root":"zrx"},"crep":{"type":"ctoken","symbol":"CREP","name":"Compound REP","address":"0x158079ee67fce2f58472a96584a73c7ab9ac95c1","decimals":8,"factor":0.4,"root":"rep"},"cbat":{"type":"ctoken","symbol":"CBAT","name":"Compound BAT","address":"0x6c8c6b02e7b2be14d4fa6022dfd6d75921d90e4e","decimals":8,"factor":0.6,"root":"bat"},"cwbtc":{"type":"ctoken","symbol":"CWBTC","name":"Compound WBTC","address":"0xc11b1268c1a384e55c48c2391d8d480264a3a7f4","decimals":8,"factor":0,"root":"wbtc"},"curvesusd":{"type":"curvetoken","symbol":"CSUSD","name":"Curve SUSD","address":"0xC25a3A3b969415c80451098fa907EC722572917F","decimals":18}}')},function(e,t,n){const a=n(3),i=n(4),s=n(27),r=n(28),u=n(29),p=n(30),d=n(31),o=n(32),y=n(33),l=n(34),m=n(35),c=n(36),h=n(37),T=n(38),b=n(39),f=n(40),g=n(41);e.exports=class{constructor(e){if(e||(e={}),this.web3=e.web3?e.web3:e,this.mode=e.mode?e.mode.toLowerCase():"browser","node"==this.mode){if(!e.privateKey)return console.error("Private key is not defined.");this.privateKey="0x"==e.privateKey.slice(0,2)?e.privateKey:"0x"+e.privateKey}this.address=a,this.ABI=i,this.instance={id:0,address:a.genesis,version:1,origin:a.genesis},this.helpers=new s(this),this.tokens=new b(this),this.internal=new r(this),this.account=new u(this),this.castHelper=new f(this),this.txnHelper=new g(this),this.sendTxn=this.txnHelper.send,this.erc20=new T(this),this.balances=new p(this),this.compound=new d(this),this.maker=new o(this),this.instapool=new y(this),this.oasis=new l(this),this.kyber=new m(this),this.curve=new c(this),this.oneInch=new h(this),this.transfer=this.erc20.transfer,this.castEncoded=this.castHelper.encoded,this.estimateCastGas=this.castHelper.estimateGas,this.encodeCastABI=this.castHelper.encodeABI,this.count=this.account.count,this.getAccounts=this.account.getAccounts,this.getAuthById=this.account.getAuthById,this.getAuthByAddress=this.account.getAuthByAddress}setInstance(e){return this.web3.utils.isAddress(e)?(this.instance.address=e,!0):e.address?(e.address&&(this.instance.address=e.address),e.id&&(this.instance.id=e.id),e.version&&(this.instance.version=e.version),e.origin&&(this.instance.origin=e.origin),!0):console.error("DSA address is not defined.")}setAccount(e){return this.setInstance(e)}async build(e){let t=await this.internal.getAddress();e||(e={}),e.authority||(e.authority=t),e.version||(e.version=1),e.origin||(e.origin=this.instance.origin),e.from||(e.from=t),e.to=this.address.core.index;let n=await new this.web3.eth.Contract(this.ABI.core.index,this.address.core.index);return e.callData=n.methods.build(e.authority,e.version,e.origin).encodeABI(),new Promise(async(t,n)=>{let a=await this.internal.getTxObj(e);return this.sendTxn(a).then(e=>t(e)).catch(e=>n(e))})}async cast(e){let t=await this.internal.getAddress(),n=this.internal.encodeSpells(e);e.to||(e.to=this.instance.address),e.from||(e.from=t),e.origin||(e.origin=this.instance.origin);let a=new this.web3.eth.Contract(this.ABI.core.account,this.instance.address);return e.callData=a.methods.cast(...n,e.origin).encodeABI(),new Promise(async(t,n)=>{let a=await this.internal.getTxObj(e);return this.sendTxn(a).then(e=>{t(e)}).catch(e=>n(e))})}Spell(){return new class{constructor(){this.data=[]}add(e){return e.connector?e.method?e.args?void this.data.push(e):console.error("args not defined."):console.error("method not defined."):console.error("connector not defined.")}}}async read(e){var t=new this.web3.eth.Contract(this.ABI.read[e.protocol],this.address.read[e.protocol]);return new Promise((n,a)=>t.methods[e.method](...e.args).call().then(e=>{n(e)}).catch(e=>{a(e)}))}}},function(e,t){e.exports={genesis:"0x0000000000000000000000000000000000000000",core:{index:"0x2971AdFa57b20E5a416aE5a708A8655A9c74f723",list:"0x4c8a1BEb8a87765788946D6B19C6C6355194AbEb",account:"0x939Daad09fC4A9B8f8A9352A485DAb2df4F4B3F8",connector:"0xD6A602C01a023B98Ecfb29Df02FBA380d3B21E0c",events:"0x2af7ea6Cb911035f3eb1ED895Cb6692C39ecbA97",instapool:"0x1879BEE186BFfBA9A8b1cAD8181bBFb218A5Aa61"},connectors:{basic:"0x9370236a085A99Aa359f4bD2f0424b8c3bf25C99",auth:"0xB3242e09C8E5cE6E14296b3d3AbC4C6965F49b98",authority:"0xB3242e09C8E5cE6E14296b3d3AbC4C6965F49b98",compound:"0xaeCfA2c0f4bAD0Ecee46dcd1250cd0334fE28BC0",maker:"0x58Bbb677296B6d1B596288B31Abb928492400fBF",instapool:"0x6d11A71575C34eB7b5E22949fAfCd49A2FA2A8F9",oasis:"0xE554c84c030bd5e850cDbd17f6583818b8dE5b1F",kyber:"0x7043FC2E21865c091EEaE37C38E3d82BcCDF5D5C",curve:"0xfB1762449983E3a5F5ad5C04a118A6D6Dba88963",oneInch:"0x1beCC315E044E8ee8898011609E63F8259d3B124"},read:{core:"0x37D60F60fcDeA9f4Dcf3fC1799fE4df8e096aa3c",balances:"0x6B9aE204B9779fbd15Fdbd027c9F0d266A32f0b7",compound:"0x0f5EB292AE3822f13B1479e37ffE3fff795D220a",maker:"0x3dF605ca85E8d677C8f6E2665EbcdDbd801Ee9f9",oasis:"0x95E031D9A16eb7cb440c56076CBE07144C2233EA",kyber:"0x8240b601d9B565e2BefaA3DA82Cc984E76cB3499",curve:"0x6326c45c2aa6EA9AdF8D43A43284D736e7a89Ae0",oneInch:"0x16F0a50305c6aCf1A44A3DAa225531e731f39A9F"}}},function(e,t,n){e.exports={core:{index:n(5),list:n(6),account:n(7),connector:n(8),events:n(9)},connectors:{basic:n(10),auth:n(0),authority:n(0),compound:n(11),maker:n(12),instapool:n(13),oasis:n(14),kyber:n(15),curve:n(16),oneInch:n(17)},read:{core:n(18),compound:n(19),maker:n(20),balances:n(21),oasis:n(22),kyber:n(23),curve:n(24),oneInch:n(25)},basic:{erc20:n(26)}}},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"origin","type":"address"}],"name":"LogAccountCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_newAccount","type":"address"},{"indexed":true,"internalType":"address","name":"_connectors","type":"address"},{"indexed":true,"internalType":"address","name":"_check","type":"address"}],"name":"LogNewAccount","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"accountVersion","type":"uint256"},{"indexed":true,"internalType":"address","name":"check","type":"address"}],"name":"LogNewCheck","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"master","type":"address"}],"name":"LogNewMaster","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"master","type":"address"}],"name":"LogUpdateMaster","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"account","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_newAccount","type":"address"},{"internalType":"address","name":"_connectors","type":"address"},{"internalType":"address","name":"_check","type":"address"}],"name":"addNewAccount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"accountVersion","type":"uint256"},{"internalType":"address","name":"_origin","type":"address"}],"name":"build","outputs":[{"internalType":"address","name":"_account","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"accountVersion","type":"uint256"},{"internalType":"address[]","name":"_targets","type":"address[]"},{"internalType":"bytes[]","name":"_datas","type":"bytes[]"},{"internalType":"address","name":"_origin","type":"address"}],"name":"buildWithCast","outputs":[{"internalType":"address","name":"_account","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"accountVersion","type":"uint256"},{"internalType":"address","name":"_newCheck","type":"address"}],"name":"changeCheck","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newMaster","type":"address"}],"name":"changeMaster","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"check","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"connectors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"version","type":"uint256"},{"internalType":"address","name":"query","type":"address"}],"name":"isClone","outputs":[{"internalType":"bool","name":"result","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"list","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"master","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_master","type":"address"},{"internalType":"address","name":"_list","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_connectors","type":"address"}],"name":"setBasics","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateMaster","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"versionCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"accountAddr","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"accountID","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"accountLink","outputs":[{"internalType":"address","name":"first","type":"address"},{"internalType":"address","name":"last","type":"address"},{"internalType":"uint64","name":"count","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"","type":"uint64"},{"internalType":"address","name":"","type":"address"}],"name":"accountList","outputs":[{"internalType":"address","name":"prev","type":"address"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"accounts","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"addAuth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"instaIndex","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"removeAuth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userLink","outputs":[{"internalType":"uint64","name":"first","type":"uint64"},{"internalType":"uint64","name":"last","type":"uint64"},{"internalType":"uint64","name":"count","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint64","name":"","type":"uint64"}],"name":"userList","outputs":[{"internalType":"uint64","name":"prev","type":"uint64"},{"internalType":"uint64","name":"next","type":"uint64"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"origin","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"LogCast","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"}],"name":"LogDisable","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"}],"name":"LogEnable","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"_shield","type":"bool"}],"name":"LogSwitchShield","type":"event"},{"inputs":[{"internalType":"address[]","name":"_targets","type":"address[]"},{"internalType":"bytes[]","name":"_datas","type":"bytes[]"},{"internalType":"address","name":"_origin","type":"address"}],"name":"cast","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"disable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"enable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"instaIndex","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"isAuth","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shield","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_shield","type":"bool"}],"name":"switchShield","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"addr","type":"address"}],"name":"LogAddController","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"connector","type":"address"}],"name":"LogDisable","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"connector","type":"address"}],"name":"LogEnable","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"connector","type":"address"}],"name":"LogEnableStatic","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"addr","type":"address"}],"name":"LogRemoveController","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"chief","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"connectorArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"connectorCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"connectorLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"connectors","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_connector","type":"address"}],"name":"disable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_userAddress","type":"address"}],"name":"disableChief","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_connector","type":"address"}],"name":"enable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_userAddress","type":"address"}],"name":"enableChief","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_connector","type":"address"}],"name":"enableStatic","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"instaIndex","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_connectors","type":"address[]"}],"name":"isConnector","outputs":[{"internalType":"bool","name":"isOk","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_connectors","type":"address[]"}],"name":"isStaticConnector","outputs":[{"internalType":"bool","name":"isOk","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"staticConnectorArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staticConnectorLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"staticConnectors","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"connectorType","type":"uint64"},{"indexed":true,"internalType":"uint64","name":"connectorID","type":"uint64"},{"indexed":true,"internalType":"uint64","name":"accountID","type":"uint64"},{"indexed":true,"internalType":"bytes32","name":"eventCode","type":"bytes32"},{"indexed":false,"internalType":"bytes","name":"eventData","type":"bytes"}],"name":"LogEvent","type":"event"},{"inputs":[{"internalType":"uint256","name":"_connectorType","type":"uint256"},{"internalType":"uint256","name":"_connectorID","type":"uint256"},{"internalType":"bytes32","name":"_eventCode","type":"bytes32"},{"internalType":"bytes","name":"_eventData","type":"bytes"}],"name":"emitEvent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"instaList","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc20","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc20","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"erc20","type":"address"},{"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getEthAddr","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getEventAddr","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getMemoryAddr","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc20","type":"address"},{"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"internalType":"address payable","name":"to","type":"address"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cTokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDepositCToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"tokenToPay","type":"address"},{"indexed":true,"internalType":"address","name":"tokenInReturn","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogLiquidate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogPayback","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"borrower","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogPaybackBehalf","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"cToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"cTokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdrawCToken","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"borrow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"depositCToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"borrower","type":"address"},{"internalType":"address","name":"tokenToPay","type":"address"},{"internalType":"address","name":"tokenInReturn","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"liquidate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"payback","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"borrower","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"paybackBehalf","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"cTokenAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdrawCToken","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"}],"name":"LogClose","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDepositDai","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"}],"name":"LogOpen","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogPayback","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdrawDai","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"vault","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"ilk","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdrawLiquidated","type":"event"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"borrow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"}],"name":"close","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"depositDai","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"colType","type":"string"}],"name":"open","outputs":[{"internalType":"uint256","name":"vault","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"payback","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdrawDai","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"vault","type":"uint256"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdrawLiquidated","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogDepositLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogFlashBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogFlashPayback","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogWithdrawLiquidity","type":"event"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"flashBorrow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"amts","type":"uint256[]"},{"internalType":"uint256[]","name":"getId","type":"uint256[]"},{"internalType":"uint256[]","name":"setId","type":"uint256[]"}],"name":"flashMultiBorrow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"getId","type":"uint256[]"},{"internalType":"uint256[]","name":"setId","type":"uint256[]"}],"name":"flashMultiPayback","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"flashPayback","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyToken","type":"address"},{"indexed":true,"internalType":"address","name":"sellToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"buyAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sellAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogBuy","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyToken","type":"address"},{"indexed":true,"internalType":"address","name":"sellToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"buyAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sellAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogSell","type":"event"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"buy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"_type","type":"uint256"},{"internalType":"uint256","name":"_id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sell","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyToken","type":"address"},{"indexed":true,"internalType":"address","name":"sellToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"buyAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sellAmt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"getId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"setId","type":"uint256"}],"name":"LogSell","type":"event"},{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"model","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sell","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"model","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sell","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"name":"connectorID","outputs":[{"internalType":"uint256","name":"model","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sell","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sellThree","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256[]","name":"distribution","type":"uint256[]"},{"internalType":"uint256","name":"disableDexes","type":"uint256"},{"internalType":"uint256","name":"getId","type":"uint256"},{"internalType":"uint256","name":"setId","type":"uint256"}],"name":"sellTwo","outputs":[],"stateMutability":"payable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"connectors","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"id","type":"uint64"}],"name":"getAccount","outputs":[{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getAccountAuthorities","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"}],"name":"getAccountVersions","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEnabledConnectores","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getID","outputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getIDAuthorities","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"name":"getAuthorityAccounts","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"name":"getAuthorityDetails","outputs":[{"components":[{"internalType":"uint64[]","name":"IDs","type":"uint64[]"},{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"versions","type":"uint256[]"}],"name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"authority","type":"address"}],"name":"getAuthorityIDs","outputs":[{"internalType":"uint64[]","name":"","type":"uint64[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getStaticConnectores","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"index","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"list","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address[]","name":"cAddress","type":"address[]"}],"name":"getPosition","outputs":[{"components":[{"internalType":"uint256","name":"tokenPrice","type":"uint256"},{"internalType":"uint256","name":"exchangeRateStored","type":"uint256"},{"internalType":"uint256","name":"balanceOfUser","type":"uint256"},{"internalType":"uint256","name":"borrowBalanceStoredUser","type":"uint256"},{"internalType":"uint256","name":"supplyRatePerBlock","type":"uint256"},{"internalType":"uint256","name":"borrowRatePerBlock","type":"uint256"}],"internalType":"struct Helpers.CompData[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string[]","name":"name","type":"string[]"}],"name":"getColInfo","outputs":[{"components":[{"internalType":"uint256","name":"borrowRate","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"liquidationRatio","type":"uint256"}],"internalType":"struct Helpers.ColInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getDaiPosition","outputs":[{"internalType":"uint256","name":"amt","type":"uint256"},{"internalType":"uint256","name":"dsr","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDsrRate","outputs":[{"internalType":"uint256","name":"dsr","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMcdAddresses","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getVaultById","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"colType","type":"string"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"art","type":"uint256"},{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"liquidatedCol","type":"uint256"},{"internalType":"uint256","name":"borrowRate","type":"uint256"},{"internalType":"uint256","name":"colPrice","type":"uint256"},{"internalType":"uint256","name":"liquidationRatio","type":"uint256"},{"internalType":"address","name":"vaultAddress","type":"address"}],"internalType":"struct Helpers.VaultData","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"getVaults","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"colType","type":"string"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"art","type":"uint256"},{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"liquidatedCol","type":"uint256"},{"internalType":"uint256","name":"borrowRate","type":"uint256"},{"internalType":"uint256","name":"colPrice","type":"uint256"},{"internalType":"uint256","name":"liquidationRatio","type":"uint256"},{"internalType":"address","name":"vaultAddress","type":"address"}],"internalType":"struct Helpers.VaultData[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address[]","name":"tknAddress","type":"address[]"}],"name":"getBalances","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getBuyAmount","outputs":[{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sellAddr","type":"address"}],"name":"getMinSellAmount","outputs":[{"internalType":"uint256","name":"minAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getSellAmount","outputs":[{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"name":"getAddressETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getAddressKyber","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getBuyAmount","outputs":[{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getBuyAmount","outputs":[{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"depositAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getDepositAmount","outputs":[{"internalType":"uint256","name":"curveAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getPosition","outputs":[{"internalType":"uint256","name":"userBal","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"userShare","type":"uint256"},{"internalType":"uint256","name":"poolDaiBal","type":"uint256"},{"internalType":"uint256","name":"poolUsdcBal","type":"uint256"},{"internalType":"uint256","name":"poolUsdtBal","type":"uint256"},{"internalType":"uint256","name":"poolSusdBal","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"withdrawAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"}],"name":"getWithdrawAmount","outputs":[{"internalType":"uint256","name":"curveAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"buyAddr","type":"address"},{"internalType":"address","name":"sellAddr","type":"address"},{"internalType":"uint256","name":"sellAmt","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"},{"internalType":"uint256","name":"distribution","type":"uint256"},{"internalType":"uint256","name":"disableDexes","type":"uint256"}],"name":"getBuyAmount","outputs":[{"internalType":"uint256","name":"buyAmt","type":"uint256"},{"internalType":"uint256","name":"unitAmt","type":"uint256"},{"internalType":"uint256[]","name":"distributions","type":"uint256[]"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},function(e,t,n){e.exports=class{constructor(e){this.web3=e.web3}cleanAddress(e){return e.slice(0,4)+"..."+e.slice(-4)}cleanTxn(e){return e.slice(0,6)+"..."+e.slice(-6)}cleanDecimal(e,t){var n=100;return t&&(n=10**t),(0,Math.floor)(+e*n)/n}divWithDec(e,t){return+e/10**(t=t||0)}getAddress(e){if(this.web3.utils.isAddress(e.toLowerCase()))return this.web3.utils.toChecksumAddress(e.toLowerCase());{let t=n(1);if(-1==Object.keys(t).indexOf(e.toLowerCase()))throw new Error("'token' symbol not found.");return this.web3.utils.toChecksumAddress(t[e.toLowerCase()].address)}}cleanNumber(e){return 1e6<e?`${cleanDecimal(e/1e6).toLocaleString()} M`:1e4<e?`${cleanDecimal(e/1e3).toLocaleString()} K`:e?cleanDecimal(e).toLocaleString():"0.00"}bigNumInString(e){var t,n=Math.pow;1>Math.abs(e)?(t=parseInt(e.toString().split("e-")[1]))&&(e*=n(10,t-1),e="0."+Array(t).join("0")+e.toString().substring(2)):20<(t=parseInt(e.toString().split("+")[1]))&&(e/=n(10,t-=20),e+=Array(t+1).join("0"));return e}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.web3=e.web3,this.mode=e.mode,this.privateKey=e.privateKey}getTarget(e){const t=this.address.connectors[e];return t||console.error(`${e} is invalid connector.`)}async getTxObj(e){if(!e.from)throw new Error("'from' is not defined.");if(!e.callData)throw new Error("'calldata' is not defined.");if(!e.to)throw new Error("'to' is not defined.");let t={};return t.from=e.from,t.to=e.to,t.data="0x"==e.callData?"0x":e.callData,t.value=e.value?e.value:0,t.gas=e.gas?e.gas:(1.3*await this.web3.eth.estimateGas(t)).toFixed(0),"node"==this.mode&&(t.gasPrice=e.gasPrice?e.gasPrice:this.web3.utils.toWei("1","gwei")+"",t.nonce=e.nonce?e.nonce:await this.web3.eth.getTransactionCount(t.from)),t}getInterface(e,t,n){const a=this.ABI[e][t];for(let e=0;e<a.length;e++)if(a[e].name==n)return a[e];return console.error(`${n} is invalid method.`)}getConnectorInterface(e,t){return this.getInterface("connectors",e,t)}encodeMethod(e){let t=e.connector,n=e.method,a=e.args,i=this.getInterface("connectors",t,n);return this.web3.eth.abi.encodeFunctionCall(i,a)}encodeSpells(e){let t=Array.isArray(e.data)?e.data:e.spells.data,n=[],a=[];for(let e=0;e<t.length;e++)n.push(this.getTarget(t[e].connector)),a.push(this.encodeMethod(t[e]));return[n,a]}async getAddress(){if("node"==this.mode)return this.web3.eth.accounts.privateKeyToAccount(this.privateKey).address;let e=await this.web3.eth.getAccounts();return 0==e.length?console.log("No ethereum address detected."):e[0]}async estimateGas(e){let t=this.web3.eth.abi.encodeFunctionCall(e.abi,e.args),n=this.web3;return new Promise(async(a,i)=>{await n.eth.estimateGas({from:e.from,to:e.to,data:t,value:e.value}).then(e=>{a(e)}).catch(n=>{i({error:n,data:{abi:e.abi,args:e.args,from:e.from,to:e.to,data:t,value:e.value}}),console.error(n)})})}}},function(e,t){e.exports=class{constructor(e){this.web3=e.web3,this.ABI=e.ABI,this.address=e.address,this.internal=e.internal}async count(){var e=new this.web3.eth.Contract(this.ABI.core.list,this.address.core.list);return new Promise((t,n)=>e.methods.accounts().call({from:this.address.genesis}).then(e=>{t(e)}).catch(e=>{n(e)}))}async getAccounts(e){e||(e=await this.internal.getAddress());var t=new this.web3.eth.Contract(this.ABI.read.core,this.address.read.core);return new Promise((n,a)=>t.methods.getAuthorityDetails(e).call({from:this.address.genesis}).then(e=>{for(var t=e.IDs.length,a=[],i=0;i<t;i++)a.push({id:e.IDs[i],address:e.accounts[i],version:e.versions[i]});n(a)}).catch(e=>{a(e)}))}async getAuthById(e){var t=new this.web3.eth.Contract(this.ABI.read.core,this.address.read.core);return new Promise((n,a)=>t.methods.getIDAuthorities(e).call({from:this.address.genesis}).then(e=>{n(e)}).catch(e=>{a(e)}))}async getAuthByAddress(e){var t=new this.web3.eth.Contract(this.ABI.read.core,this.address.read.core);return new Promise((n,a)=>t.methods.getAccountAuthorities(e).call({from:this.address.genesis}).then(e=>{n(e)}).catch(e=>{a(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.instance=e.instance,this.dsa=e}async getBalances(e,t){var n=e||this.instance.address,a=t||"token";const i=this.tokens.getTokenByType(a);var s=this.tokens.getTokensField("address",i),r={protocol:"balances",method:"getBalances",args:[n,Object.values(s)]};return new Promise((e,t)=>this.dsa.read(r).then(t=>{var n={};Object.keys(i).forEach((e,a)=>{n[e]=t[a]/10**i[e].decimals}),e(n)}).catch(e=>{t(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.instance=e.instance,this.dsa=e}ctokenMap(e){const t=this.tokens.getList({type:"ctoken"});for(const n in t)if(t[n].symbol===e)return t[n].root}getCtokens(){var e=this.tokens.info,t={};return Object.keys(e).forEach(n=>{"ctoken"==e[n].type&&(t[n]=e[n])}),t}getCtokensAddresses(e){e||(e=getCtokens());var t=[];return Object.keys(e).forEach(n=>{t.push(e[n].address)}),t}getPosition(e,t){var n=e||this.instance.address,a=this.getCtokens(),i={protocol:"compound",method:"getPosition",args:[n,this.getCtokensAddresses(a)]};return new Promise(async(e,n)=>{await this.dsa.read(i).then(n=>{var i={},s=0,r=0,u=0;Object.keys(a).forEach((e,p)=>{var d,o=a[e].root;d="ctoken"==t?e:"caddress"==t?a[e].address:"address"==t?this.tokens.info[o].address:o;var y=n[p],l=this.tokens.info[a[e].root].decimals;i[d]={};var m=y[0]/10**(18-l+18);i[d].priceInEth=m;var c=y[1]/1e18;i[d].exchangeRate=c;var h=y[2]*c/10**l;i[d].supply=h,s+=h*m,u+=h*m*a[e].factor;var T=y[3]/10**l;i[d].borrow=T,r+=T*m;var b=2102400*y[4]/1e18;i[d].supplyRate=100*b,i[d].supplyYield=100*((1+b/365)**365-1);var f=2102400*y[5]/1e18;i[d].borrowRate=100*f,i[d].borrowYield=100*((1+f/365)**365-1)}),i.totalSupplyInEth=s,i.totalBorrowInEth=r,i.maxBorrowLimitInEth=u;var p=r/s;i.status=p;var d=u/s;i.liquidation=d,e(i)}).catch(e=>{n(e)})})}}},function(e,t){var n={"ETH-A":{token:"ETH",ratio:2/3,joinAddr:"0x2F0b23f53734252Bda2277357e97e1517d6B042A",addr:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",stabiltyRate:0,price:0,typeBytes:"0x4554482d41000000000000000000000000000000000000000000000000000000"},"BAT-A":{token:"BAT",ratio:2/3,joinAddr:"0x3D0B1912B66114d4096F48A8CEe3A56C231772cA",addr:"0x0d8775f648430679a709e98d2b0cb6250d2887ef",stabiltyRate:0,price:0,typeBytes:"0x4241542d41000000000000000000000000000000000000000000000000000000"},"USDC-A":{token:"USDC",ratio:.8,joinAddr:"0xa191e578a6736167326d05c119ce0c90849e84b7",addr:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",stabiltyRate:0,price:0,typeBytes:"0x555344432d410000000000000000000000000000000000000000000000000000"},"WBTC-A":{token:"WBTC",ratio:2/3,joinAddr:"0xBF72Da2Bd84c5170618Fbe5914B0ECA9638d5eb5",addr:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",stabiltyRate:0,price:0,typeBytes:"0x574254432d410000000000000000000000000000000000000000000000000000"}};e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.helpers=e.helpers,this.dsa=e,this.colInfo=n}calRate(e){return(e=+e/1e27)**31545e3-1}async getVaults(e){var t={protocol:"maker",method:"getVaults",args:[e||this.instance.address]};return new Promise(async(e,n)=>{await this.dsa.read(t).then(t=>{for(var n,a=t,i={},s=0;s<a.length;s++){i[n=a[s][0]]={},i[n].owner=a[s][1],i[n].colName=a[s][2],i[n].token=this.colInfo[a[s][2]].token;var r=this.helpers.divWithDec(a[s][3],18);i[n].col=r;var u=this.helpers.divWithDec(a[s][5],18);i[n].debt=u,i[n].liquidatedCol=this.helpers.divWithDec(a[s][6],18),i[n].rate=100*this.calRate(a[s][7]);var p=this.helpers.divWithDec(a[s][8],27);i[n].price=p,i[n].status=u/(r*p),i[n].liquidation=1/this.helpers.divWithDec(a[s][9],27),i[n].urn=a[s][10]}e(i)}).catch(e=>{n(e)})})}async getCollateralInfo(){var e={protocol:"maker",method:"getColInfo",args:[Object.keys(this.colInfo)]};return new Promise(async(t,n)=>{await this.dsa.read(e).then(e=>{var n={};Object.keys(this.colInfo).forEach((t,a)=>{n[t]={},n[t].token=this.colInfo[t].token,n[t].rate=100*this.calRate(e[a][0]),n[t].price=e[a][1]/1e27,n[t].ratio=1/(e[a][2]/1e27)}),t(n)}).catch(e=>{n(e)})})}async getDaiPosition(e){var t={protocol:"maker",method:"getDaiPosition",args:[e]};return new Promise(async(e,n)=>{await this.dsa.read(t).then(t=>{var n={balance:t[0]/1e18,rate:this.calRate(t[1])};e(n)}).catch(e=>{n(e)})})}async getDaiRate(){var e={protocol:"maker",method:"getDsrRate",args:[]};return new Promise(async(t,n)=>{await this.dsa.read(e).then(e=>{t({rate:this.calRate(e)})}).catch(e=>{n(e)})})}}},function(e,t){e.exports=class{constructor(e){this.web3=e.web3,this.address=e.address,this.compound=e.compound,this.dsa=e}async getLiquidity(){return new Promise(async(e,t)=>{await this.compound.getPosition(this.address.core.instapool,"token").then(t=>{var n=.995*t.maxBorrowLimitInEth,a={eth:n,dai:n/t.dai.priceInEth,usdc:n/t.usdc.priceInEth};e(a)}).catch(e=>{t(e)})})}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.helpers=e.helpers,this.web3=e.web3,this.instance=e.instance,this.dsa=e}async getBuyAmount(e,t,n,a){let i=a?1e16*a:1e16;i=this.helpers.bigNumInString(i)+"";var s={protocol:"oasis",method:"getBuyAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.info[t.toLowerCase()].address,this.tokens.fromDecimal(n,t),this.helpers.bigNumInString(i)]};return new Promise((t,n)=>this.dsa.read(s).then(n=>{var a={buyAmt:this.tokens.toDecimal(n[0],e),buyAmtRaw:n[0],unitAmt:n[1]};t(a)}).catch(e=>{n(e)}))}async getSellAmount(e,t,n,a){let i=a?1e16*a:1e16;i=this.helpers.bigNumInString(i)+"";var s={protocol:"oasis",method:"getSellAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.info[t.toLowerCase()].address,this.tokens.fromDecimal(n,e),this.helpers.bigNumInString(i)]};return new Promise((e,n)=>this.dsa.read(s).then(n=>{var a={sellAmt:this.tokens.toDecimal(n[0],t),sellAmtRaw:n[0],unitAmt:n[1]};e(a)}).catch(e=>{n(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.instance=e.instance,this.helpers=e.helpers,this.dsa=e}async getBuyAmount(e,t,n,a){let i=a?1e16*a:1e16;i=this.helpers.bigNumInString(i)+"";var s={protocol:"kyber",method:"getBuyAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.info[t.toLowerCase()].address,this.tokens.fromDecimal(n,t),this.helpers.bigNumInString(i)]};return new Promise((t,n)=>this.dsa.read(s).then(n=>{var a={buyAmt:this.tokens.toDecimal(n[0],e),buyAmtRaw:n[0],unitAmt:n[1]};t(a)}).catch(e=>{n(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.instance=e.instance,this.helpers=e.helpers,this.dsa=e}async getPosition(e){var t={protocol:"curve",method:"getPosition",args:[e||this.instance.address]};return new Promise((e,n)=>this.dsa.read(t).then(t=>{let n={};n.curveBalance=this.tokens.toDecimal(t[0],"curvesusd"),n.totalSupply=this.tokens.toDecimal(t[1],"curvesusd"),n.userShare=100*this.tokens.toDecimal(t[2],"curvesusd"),n.daiPoolBalance=this.tokens.toDecimal(t[3],"DAI"),n.usdcPoolBalance=this.tokens.toDecimal(t[4],"USDC"),n.usdtPoolBalance=this.tokens.toDecimal(t[5],"USDT"),n.susdPoolBalance=this.tokens.toDecimal(t[6],"SUSD"),e(n)}).catch(e=>{n(e)}))}async getBuyAmount(e,t,n,a){let i=a?1e16*a:1e16;i=this.helpers.bigNumInString(i)+"";var s={protocol:"curve",method:"getBuyAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.info[t.toLowerCase()].address,this.tokens.fromDecimal(n,t),this.helpers.bigNumInString(i)]};return new Promise((t,n)=>this.dsa.read(s).then(n=>{var a={buyAmt:this.tokens.toDecimal(n[0],e),buyAmtRaw:n[0],unitAmt:n[1]};t(a)}).catch(e=>{n(e)}))}async getDepositAmount(e,t,n){let a=n?1e16*n:1e16;a=this.helpers.bigNumInString(a)+"";var i={protocol:"curve",method:"getDepositAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.fromDecimal(t,e),this.helpers.bigNumInString(a)]};return new Promise((e,t)=>this.dsa.read(i).then(t=>{var n={curveAmt:this.tokens.toDecimal(t[0],"curvesusd"),curveAmtRaw:t[0],unitAmt:t[1]};e(n)}).catch(e=>{t(e)}))}async getWithdrawAmount(e,t,n){let a=n?1e16*n:1e16;a=this.helpers.bigNumInString(a)+"";var i={protocol:"curve",method:"getWithdrawAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.fromDecimal(t,e),this.helpers.bigNumInString(a)]};return new Promise((e,t)=>this.dsa.read(i).then(t=>{var n={curveAmt:this.tokens.toDecimal(t[0],"curvesusd"),curveAmtRaw:t[0],unitAmt:t[1]};e(n)}).catch(e=>{t(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.tokens=e.tokens,this.web3=e.web3,this.instance=e.instance,this.helpers=e.helpers,this.dsa=e}async getBuyAmount(e,t,n,a,i,s){let r=a?1e16*a:1e16;r=this.helpers.bigNumInString(r)+"";let u=i||20,p=s||0;var d={protocol:"oneInch",method:"getBuyAmount",args:[this.tokens.info[e.toLowerCase()].address,this.tokens.info[t.toLowerCase()].address,this.tokens.fromDecimal(n,t),this.helpers.bigNumInString(r),this.helpers.bigNumInString(u),this.helpers.bigNumInString(p)]};return new Promise((t,n)=>this.dsa.read(d).then(n=>{var a={buyAmt:this.tokens.toDecimal(n[0],e),buyAmtRaw:n[0],unitAmt:n[1],distribution:n[2]};t(a)}).catch(e=>{n(e)}))}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.tokens=e.tokens,this.helpers=e.helpers,this.internal=e.internal,this.web3=e.web3,this.dsa=e}async transfer(e){let t,n=await this.internal.getAddress(),a=this.dsa?this.dsa:this;if(!e.token)throw new Error("'token' is not defined.");if(!e.to&&(e.to=a.instance.address,e.to==a.address.genesis))throw new Error("'to' is not defined and instance is not set.");if(!e.amount)throw new Error("'amount' is not defined");if(e.from||(e.from=n),"eth"==e.token.toLowerCase()||e.token.toLowerCase()==this.tokens.info.eth.address)e.value=e.amount,e.callData="0x",t=await this.internal.getTxObj(e);else{e.toAddr=e.to,e.to=this.helpers.getAddress(e.token);var i=await new this.web3.eth.Contract(this.ABI.basic.erc20,this.helpers.getAddress(e.token));e.callData=i.methods.transfer(e.toAddr,this.helpers.bigNumInString(e.amount)).encodeABI(),t=await this.internal.getTxObj(e)}return new Promise((e,n)=>a.sendTxn(t).then(t=>e(t)).catch(e=>n(e)))}async approve(e){let t,n=await this.internal.getAddress(),a=this.dsa;if(!e.token)throw new Error("'token' is not defined.");if(!e.to)throw new Error("'to' address is not defined");if(!e.amount)throw new Error("'amount' is not defined");if(e.from||(e.from=n),"eth"==e.token.toLowerCase()||e.token.toLowerCase()==this.tokens.info.eth.address)return new Promise((e,t)=>{t("ETH does not require approve.")});e.toAddr=e.to,e.to=this.helpers.getAddress(e.token);var i=await new this.web3.eth.Contract(this.ABI.basic.erc20,this.helpers.getAddress(e.token));return e.callData=i.methods.approve(e.toAddr,e.amount).encodeABI(),t=await this.internal.getTxObj(e),new Promise((e,n)=>a.sendTxn(t).then(t=>e(t)).catch(e=>n(e)))}async getAllowance(e){let t=await this.internal.getAddress(),n=this.web3;if(!e.token)throw new Error("'token' is not defined.");if(!e.to)throw new Error("'to' address is not defined");if(e.from||(e.from=t),"eth"==e.token.toLowerCase()||e.token.toLowerCase()==this.tokens.info.eth.address)return new Promise(e=>{e("ETH does not have allowance.")});var a=await new n.eth.Contract(this.ABI.basic.erc20,this.helpers.getAddress(e.token));return new Promise((t,n)=>a.methods.allowance(e.from,e.to).call().then(e=>{t(e)}).catch(e=>{n(e)}))}}},function(e,t,n){e.exports=class{constructor(e){this.info=n(1),this.helpers=e.helpers}fromDecimal(e,t){if(-1==Object.keys(this.info).indexOf(t.toLowerCase()))throw new Error("'token' symbol not found.");var n=this.info[t.toLowerCase()];return this.helpers.bigNumInString((+e*10**n.decimals).toFixed(0))}toDecimal(e,t){if(-1==Object.keys(this.info).indexOf(t.toLowerCase()))throw new Error("'token' symbol not found.");return+e/10**this.info[t.toLowerCase()].decimals}getTokenByType(e){var t=this.info,n={};return"all"==e?n=t:Object.keys(t).forEach(a=>{t[a].type==e&&(n[a]=t[a])}),n}getTokensField(e,t){t||(t=this.info);var n={};return Object.keys(t).forEach(a=>{n[a]=t[a][e]}),n}getList({type:e=null}){return Object.keys(this.info).reduce((t,n)=>this.info[n].type==e?(t.push(this.info[n]),t):t,[])}getDataList({type:e=null,field:t=null}){return Object.values(this.info).filter(t=>!e||t.type==e).map(e=>t?e[t]:e)}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.internal=e.internal,this.web3=e.web3}encoded(e){var t=this.internal.encodeSpells(e);return{targets:t[0],spells:t[1]}}async estimateGas(e){var t=this.internal,n=t.encodeSpells(e);n.push(this.instance.origin),e.to||(e.to=this.instance.address),e.from||(e.from=await t.getAddress()),e.value||(e.value="0");var a={abi:t.getInterface("core","account","cast"),args:n,from:e.from,to:e.to,value:e.value};return new Promise((e,n)=>{t.estimateGas(a).then(t=>{e(t)}).catch(e=>{n(e)})})}encodeABI(e){let t=this.internal.encodeSpells(e);return e.to||(e.to=this.instance.address),e.origin||(e.origin=this.instance.origin),new this.web3.eth.Contract(this.ABI.core.account,e.to).methods.cast(...t,e.origin).encodeABI()}}},function(e,t){e.exports=class{constructor(e){this.ABI=e.ABI,this.address=e.address,this.internal=e.internal,this.web3=e.web3,this.mode=e.mode,this.privateKey=e.privateKey}async send(e){return new Promise((t,n)=>e.to==this.address.genesis?n(`'to' address is ${this.address.genesis}.`):void("node"==this.mode?this.web3.eth.accounts.signTransaction(e,this.privateKey).then(e=>{this.web3.eth.sendSignedTransaction(e.rawTransaction).on("transactionHash",e=>{t(e)}).on("error",e=>{n(e)})}):this.web3.eth.sendTransaction(e).on("transactionHash",e=>{t(e)}).on("error",e=>{n(e)})))}}}])}));